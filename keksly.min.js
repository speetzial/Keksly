!function(){"use strict";let e={version:1,services:[{id:"essential",name:"Essential",description:"Necessary for the website to function.",required:!0,enabled:!0,category:["security_storage"]}],texts:{banner:{title:"We value your privacy",description:'We use cookies to enhance your browsing experience, serve personalized ads or content, and analyze our traffic. By clicking "Accept All", you consent to our use of cookies.',acceptAll:"Accept All",rejectAll:"Reject All",settings:"Customize"},settings:{title:"Cookie Preferences",save:"Save Preferences",back:"Back",historyLink:"View your consent history",historyTitle:"Consent History",historyEmpty:"No history entries yet."},links:{privacyPolicy:{text:"Privacy Policy",url:"#"},imprint:{text:"Imprint",url:"#"}}},design:{primaryColor:"#3b82f6",backgroundColor:"#ffffff",textColor:"#1f2937",fontFamily:"system-ui, -apple-system, sans-serif",position:"bottom",buttons:[]},gcm:{enabled:!0},uid:{version:1,respectDnt:!0}},t={},o=[],s=null,n=!1,i=null;function r(e,t){for(const o of Object.keys(t))t[o]instanceof Object&&o in e&&Object.assign(t[o],r(e[o],t[o]));return Object.assign(e||{},t),e}function a(){let e=null;try{e=localStorage.getItem("keksly_uid")}catch(t){e=null}if(e)return i=e,Promise.resolve(i);i=window.crypto&&window.crypto.randomUUID?window.crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}));try{localStorage.setItem("keksly_uid",i)}catch(e){}return Promise.resolve(i)}function l(){const l=()=>a().finally((()=>function(){(function(){const o=Number(e.version||1),s=Number(localStorage.getItem("keksly_version")),i=localStorage.getItem("keksly_consent");n=!1;const r=()=>{t={},e.services.forEach((e=>{t[e.id]=!!e.required}))};if(i)try{t=JSON.parse(i)}catch(e){t={}}else r();if(s!==o){r(),localStorage.removeItem("keksly_consent"),n=!0;try{localStorage.setItem("keksly_version",String(o))}catch(e){console.warn("Keksly: failed to persist version",e)}}e.services.forEach((e=>{e.required&&(t[e.id]=!0)})),i||(n=!0)})(),function(){const e=localStorage.getItem("keksly_consent_history");if(e)try{o=JSON.parse(e)||[]}catch(e){o=[]}s=o.length?o[o.length-1]:null}(),function(){if(document.getElementById("keksly-styles"))return;const{design:t}=e,o=`#keksly-banner{position:fixed;${"bottom"===t.position?"bottom:20px;left:20px;right:20px;":"top:50%;left:50%;transform:translate(-50%,-50%);width:90%;max-width:500px;"}background-color:${t.backgroundColor};color:${t.textColor};font-family:${t.fontFamily};padding:24px;border-radius:12px;box-shadow:0 4px 20px rgba(0,0,0,0.15);z-index:2147483647;display:flex;flex-direction:column;gap:16px;opacity:0;transition:opacity 0.3s ease;max-width:${"bottom"===t.position?"100%":"500px"};}@media (min-width:768px){#keksly-banner{${"bottom"===t.position?"max-width:400px;left:auto;right:20px;":""}}}#keksly-banner.visible{opacity:1}.keksly-title{margin:0;font-size:18px;font-weight:700}.keksly-desc{margin:0;font-size:14px;line-height:1.5;opacity:0.9}.keksly-actions{display:flex;gap:10px;flex-wrap:wrap;margin-top:8px}.keksly-btn{padding:10px 20px;border-radius:6px;border:none;cursor:pointer;font-size:14px;font-weight:600;transition:transform 0.1s,opacity 0.2s;flex:1;white-space:nowrap;text-align:center}.keksly-btn:active{transform:scale(0.98)}.keksly-btn-primary{background-color:${t.primaryColor};color:#fff}.keksly-btn-secondary{background-color:transparent;border:1px solid ${t.textColor};color:${t.textColor}}.keksly-btn-text{background:none;color:${t.textColor};text-decoration:underline;font-size:12px;padding:0;margin-top:10px;width:100%;text-align:center;cursor:pointer;border:none}#keksly-modal{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.6);z-index:2147483648;display:none;align-items:center;justify-content:center;font-family:${t.fontFamily};backdrop-filter:blur(2px)}#keksly-modal.open{display:flex}.keksly-modal-content{background:${t.backgroundColor};color:${t.textColor};width:90%;max-width:600px;max-height:90vh;border-radius:12px;display:flex;flex-direction:column;box-shadow:0 10px 25px rgba(0,0,0,0.2)}.keksly-modal-header{padding:20px;border-bottom:1px solid rgba(0,0,0,0.1);display:flex;justify-content:space-between;align-items:center}.keksly-modal-header h3{margin:0;font-size:20px}.keksly-close{background:none;border:none;font-size:24px;cursor:pointer;color:${t.textColor}}.keksly-modal-body{padding:20px;overflow-y:auto}.keksly-history-link{margin:10px 0 6px;text-align:right}.keksly-history-panel{border:1px solid rgba(0,0,0,0.1);border-radius:8px;padding:10px 12px;max-height:200px;overflow-y:auto;background:${"center"===t.position?"rgba(0,0,0,0.02)":"rgba(0,0,0,0.03)"}}.keksly-history-item{font-size:12px;padding:6px 0;border-bottom:1px solid rgba(0,0,0,0.05)}.keksly-history-item:last-child{border-bottom:none}.keksly-history-meta{opacity:0.75;display:block}.keksly-category{margin-bottom:20px}.keksly-cat-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.keksly-cat-title{font-weight:600;font-size:16px}.keksly-cat-desc{font-size:14px;opacity:0.8}.keksly-switch{position:relative;display:inline-block;width:44px;height:24px}.keksly-switch input{opacity:0;width:0;height:0}.keksly-slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#ccc;transition:.4s;border-radius:24px}.keksly-slider:before{position:absolute;content:"";height:18px;width:18px;left:3px;bottom:3px;background-color:white;transition:.4s;border-radius:50%}input:checked + .keksly-slider{background-color:${t.primaryColor}}input:checked + .keksly-slider:before{transform:translateX(20px)}input:disabled + .keksly-slider{opacity:0.5;cursor:not-allowed}.keksly-modal-footer{padding:20px;border-top:1px solid rgba(0,0,0,0.1);display:flex;justify-content:flex-end;gap:10px}.keksly-footer-links{display:flex;justify-content:center;gap:15px;margin-top:5px}.keksly-footer-links a{color:${t.textColor};font-size:12px;text-decoration:none;opacity:0.7}.keksly-footer-links a:hover{opacity:1;text-decoration:underline}#keksly-backdrop{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.5);backdrop-filter:blur(2px);z-index:2147483646;opacity:0;transition:opacity 0.3s ease}#keksly-backdrop.visible{opacity:1}`,s=document.createElement("style");s.id="keksly-styles",s.textContent=o,document.head.appendChild(s)}(),n||!localStorage.getItem("keksly_consent")?function(){if(document.getElementById("keksly-banner"))return;const t=document.createElement("div");t.id="keksly-banner";const o=e.design.buttons.map((e=>{let t="keksly-btn";return"primary"===e.variant?t+=" keksly-btn-primary":"secondary"===e.variant?t+=" keksly-btn-secondary":"text"===e.variant&&(t+=" keksly-btn-text"),`<button data-action="${e.type}" class="${t}">${e.label}</button>`})).join("");if(t.innerHTML=`<h2 class="keksly-title">${e.texts.banner.title}</h2><p class="keksly-desc">${e.texts.banner.description}</p><div class="keksly-actions">${o}</div><div class="keksly-footer-links"><a href="${e.texts.links.privacyPolicy.url}" target="_blank">${e.texts.links.privacyPolicy.text}</a><a href="${e.texts.links.imprint.url}" target="_blank">${e.texts.links.imprint.text}</a></div>`,"center"===e.design.position){const e=document.createElement("div");e.id="keksly-backdrop",document.body.appendChild(e),e.offsetHeight,e.classList.add("visible")}document.body.appendChild(t),t.offsetHeight,t.classList.add("visible");const s=t.querySelector('[data-action="accept"]');s&&s.addEventListener("click",(()=>{const t={};e.services.forEach((e=>t[e.id]=!0)),c(t,{source:"banner",action:"accept_all"})}));const n=t.querySelector('[data-action="reject"]');n&&n.addEventListener("click",(()=>{const t={};e.services.forEach((e=>t[e.id]=e.required)),c(t,{source:"banner",action:"reject_all"})}));const i=t.querySelector('[data-action="settings"]');i&&i.addEventListener("click",y)}():d();window.Keksly={openSettings:y,reset:()=>{localStorage.removeItem("keksly_consent"),localStorage.removeItem("keksly_version"),localStorage.removeItem("keksly_consent_history"),localStorage.removeItem("keksly_uid"),location.reload()},getUid:()=>i}}()));if(window.KekslyConfig)e=r(e,window.KekslyConfig),l();else{const t=document.currentScript||document.querySelector('script[src*="keksly.js"]'),o=t?t.getAttribute("data-config"):null;o?fetch(o).then((e=>e.json())).then((t=>{e=r(e,t),l()})).catch((e=>{console.error("Keksly: Failed to load config",e),l()})):l()}}function c(n,r={}){t={...t,...n},e.services.forEach((e=>{e.required&&(t[e.id]=!0)}));const a=Number(e.version||1);try{localStorage.setItem("keksly_consent",JSON.stringify(t)),localStorage.setItem("keksly_version",String(a))}catch(e){console.warn("Keksly: failed to persist consent/version",e)}!function(e){const n={timestamp:(new Date).toISOString(),uid:i,consent:t,source:e.source||"unknown",action:e.action||"update"};o.push(n),s=n;try{localStorage.setItem("keksly_consent_history",JSON.stringify(o))}catch(e){console.warn("Keksly: failed to persist consent history",e)}}(r),d(),function(){const e=document.getElementById("keksly-banner");e&&e.remove();const t=document.getElementById("keksly-backdrop");t&&t.remove()}(),function(){const e=document.getElementById("keksly-modal");e&&e.classList.remove("open")}()}function d(){window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"keksly_consent_update",consent:t,consent_history_entry:o,uid:i}),e.gcm.enabled&&function(){const o=o=>e.services.some((e=>Array.isArray(e.category)&&e.category.includes(o)&&t[e.id]));function s(){window.dataLayer=window.dataLayer||[],window.dataLayer.push(arguments)}s("consent","update",{ad_storage:o("ad_storage")?"granted":"denied",analytics_storage:o("analytics_storage")?"granted":"denied",ad_user_data:o("ad_user_data")?"granted":"denied",ad_personalization:o("ad_personalization")?"granted":"denied"})}(),document.querySelectorAll('script[type="text/plain"][data-service]').forEach((e=>{const o=e.getAttribute("data-service");if(t[o]){const t=document.createElement("script");t.type="text/javascript",e.src?t.src=e.src:t.innerHTML=e.innerHTML,Array.from(e.attributes).forEach((e=>{"type"!==e.name&&"data-service"!==e.name&&t.setAttribute(e.name,e.value)})),e.parentNode.replaceChild(t,e)}}))}function y(){let s=document.getElementById("keksly-modal");s||(s=document.createElement("div"),s.id="keksly-modal",document.body.appendChild(s));const n=e.services.map((e=>`<div class="keksly-category"><div class="keksly-cat-header"><span class="keksly-cat-title">${e.name}</span><label class="keksly-switch"><input type="checkbox" data-id="${e.id}" ${e.required?"checked disabled":""} ${t[e.id]?"checked":""}><span class="keksly-slider"></span></label></div><div class="keksly-cat-desc">${e.description}</div></div>`)).join("");s.innerHTML=`<div class="keksly-modal-content"><div class="keksly-modal-header"><h3>${e.texts.settings.title}</h3><button class="keksly-close">&times;</button></div><div class="keksly-modal-body">${n}<div class="keksly-history-link"><button type="button" class="keksly-btn-text keksly-history-toggle">${e.texts.settings.historyLink}</button></div><div class="keksly-history-panel" style="display:none;"></div></div><div class="keksly-modal-footer"><button class="keksly-btn keksly-btn-secondary keksly-close-btn">${e.texts.settings.back}</button><button id="keksly-save" class="keksly-btn keksly-btn-primary">${e.texts.settings.save}</button></div></div>`,s.classList.add("open");const i=()=>s.classList.remove("open");s.querySelector(".keksly-close").addEventListener("click",i),s.querySelector(".keksly-close-btn").addEventListener("click",i),document.getElementById("keksly-save").addEventListener("click",(()=>{const e={};s.querySelectorAll('input[type="checkbox"]').forEach((t=>{e[t.getAttribute("data-id")]=t.checked})),c(e,{source:"settings",action:"custom_save"})}));const r=s.querySelector(".keksly-history-toggle"),a=s.querySelector(".keksly-history-panel");r.addEventListener("click",(()=>{"none"===a.style.display?(!function(t){if(!t)return;if(!o.length)return void(t.innerHTML=`<div class="keksly-history-item">${e.texts.settings.historyEmpty}</div>`);const s=[...o].reverse().map((e=>`<div class="keksly-history-item"><div><strong>${e.action}</strong></div><span class="keksly-history-meta">${e.timestamp} · ${e.source} · UID: ${e.uid||"-"}</span><div class="keksly-history-meta">${JSON.stringify(e.consent)}</div></div>`)).join("");t.innerHTML=`<div class="keksly-history-item"><strong>${e.texts.settings.historyTitle}</strong></div>`+s}(a),a.style.display="block"):a.style.display="none"}))}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",l):l()}();